<style>
    .topnav {
        background-color: #333;
        overflow: hidden;
      }
      
      /* Style the links inside the navigation bar */
      .topnav a {
        float: left;
        color: #f2f2f2;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
      }
      
      /* Change the color of links on hover */
      .topnav a:hover {
        background-color: #ddd;
        color: black;
      }
      
      /* Add a color to the active/current link */
      .topnav a.active {
        background-color: #04AA6D;
        color: white;
      }
      .button {
      background-color: #4CAF50; /* Green */
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
    }
    </style>
    <div class="topnav">
        <!-- <button class="button" (click)="searchFlights()">Search Flights</button> -->
        <!-- <button class="button" (click)="bookingHistory()">Booking History By PNR</button> -->
        <button class="button" (click)="logout()" style="float: right;">Logout</button>
        <!-- <button class="button" (click)="cancel()" style="float: right;">Cancel Ticket</button> -->
        
        <!-- <input type="button" value ="BookingHistory" onclick()="bookingHistory()"> -->
    </div>

<div class = "container" >
    <form novalidate [formGroup] = "myform" (ngSubmit)="onSubmit()">
        <div class ="form-group">
            <label for="fromPlace">From Place</label>
            <!-- <input type="text" class="form-control" formControlName = "flightName" [ngClass]="{ 'is-invalid': submitted && f.flightName.errors }" required>\ -->
            <select formControlName="fromPlace" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.fromPlace.errors}" required>
                <option *ngFor="let source of sourceList" [value]="source">{{source}}</option>
            </select>
            <div *ngIf="submitted && f.fromPlace.errors" class="invalid-feedback">
                <div *ngIf="f.fromPlace.errors.required">fromPlace is required</div>
            </div>
        </div>

        <div class ="form-group">
            <label for="toPlace">To Place</label>
            <!-- <input type="text" class="form-control" formControlName = "flightName" [ngClass]="{ 'is-invalid': submitted && f.flightName.errors }" required>\ -->
            <select formControlName="toPlace" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.toPlace.errors}" required>
                <option *ngFor="let dest of destList" [value]="dest">{{dest}}</option>
            </select>
            <div *ngIf="submitted && f.toPlace.errors" class="invalid-feedback">
                <div *ngIf="f.toPlace.errors.required">ToPlace is required</div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Search Flights</button>
    </form>
</div>

<div class="container" *ngIf = 'searched'>
    <table class="table">
    <thead>
      <tr>
        <th>FlightID</th>
        <th>Airline Name</th>
        <th>From Place</th>
        <th>To Place</th>
        <th>Departure</th>
        <th>Arrival</th>
        <th>Total Seats</th>
        <th>Cost</th>
        <th>Meal</th>
        <th>Schedule Days</th>
        <th>Continue Booking</th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor = "let i of flights">
        <td>{{i.flightId}}</td>
        <td>{{i.airLine}}</td>
        <td>{{i.fromPlace}}</td>
        <td>{{i.toPlace}}</td>
        <td>{{i.departure.value.hours}}:{{i.departure.value.minutes}}</td>
        <td>{{i.arrival.hours}}:{{i.arrival.minutes}}</td>
        <td>{{i.totalSeats}}</td>
        <td>{{i.cost}}</td>
        <td>{{i.meal}}</td>
        <td>{{i.scheduleDays}}</td>
        <td>
            <input type="button" value="Proceed to Book?" (click)="bookTicket(i.flightId,i.meal,i.departure.value.hours,i.arrival.hours)"/>
        </td>
    </tr>
    </tbody>
    </table>
</div>

<div class = "container" >
    <form novalidate [formGroup] = "myform1" (ngSubmit)="seatsBooked()" *ngIf='booking'>
        <div class ="form-group">
            <label for="seats">No.OfSeats to Book</label>
            <input type="number" class="form-control" formControlName = "seats" [ngClass]="{ 'is-invalid': submitted && f.seats.errors }" required>
            <div *ngIf="submitted && f.seats.errors" class="invalid-feedback">
                <div *ngIf="f.seats.errors.required">Seats is required</div>
            </div>
            <button type="submit" class="btn btn-primary">Add passenger Details</button>
        </div>
    </form>
</div>

<div class = "container" >
    <form novalidate [formGroup] = "myform2" (ngSubmit)="dateBooked()" *ngIf='booking'>
        <div class ="form-group">
            <label for="bookdate">No.OfSeats to Book</label>
            <input type="date" class="form-control" formControlName = "bookdate" [ngClass]="{ 'is-invalid': submitted && f.bookdate.errors }" required>
            <div *ngIf="submitted && f.bookdate.errors" class="invalid-feedback">
                <div *ngIf="f.bookdate.errors.required">Seats is required</div>
            </div>
            <button type="submit" class="btn btn-primary">Select Departure Date</button>
        </div>
    </form>
</div>

    <div class="container" *ngIf='passengerAdding'>
        <form #login = "ngForm" (ngSubmit)="onClick(login.value.name,login.value.age,login.value.gender,login.value.seatnumber)">
        <table class="table">
            <thead>
                <!-- <tr>
                    <th>Passenger Name</th>
                    <th>Passenger Age</th>
                    <th>Passenger Gender</th>
                    <th>Seat Number</th>
                </tr> -->
            </thead>
            <tbody>
                <tr *ngFor = "let i of noOfSeatsList">
                    <td>
                        <!-- <form #login = "ngForm" (ngSubmit)="onClick(login.value.name)"> -->
                            Passenger Name : <input type="text" name="name" ngModel>
                            Passenger Age :<input type="number" name="age" ngModel>
                            Passenger Gender :<input type="text" name="gender" ngModel>
                            Seat Number : <input type="number" name="seatnumber" ngModel>
                            <!-- <input type= "Submit" value = "Submit" /> -->
                        <!-- </form> -->
                    </td>
                </tr>
                </tbody>
           
        </table>
        <input type= "Submit" value = "Submit" />
    </form>
    </div>



